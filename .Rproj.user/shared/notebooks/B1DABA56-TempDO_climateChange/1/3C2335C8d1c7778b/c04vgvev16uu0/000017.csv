"0","# fit a linear regression for anomaly values vs. year.  We have been using the mblm function (median based linear model) as this is thought to be less sensitive to outliers."
"0",""
"0","# install.packages(""mblm"")"
"0","library(mblm)"
"0",""
"0","#Usage"
"0","#mblm(formula, dataframe, repeated = TRUE)"
"0","  #Arguments"
"0","    #formula A formula of type y ~ x (only linear models are accepted)"
"0","    #dataframe Optional dataframe"
"0","    #repeated If set to true, model is computed using repeated medians. If false, a single median estimators are calculated"
"0",""
"0","subset.df$Year <- year(subset.df$Date)"
"0","mblm.df <- subset.df[, c(""TAnomaly"",""Year"")]"
"0",""
"0","mblm.df <- na.omit(mblm.df) # likely unnecessary step"
"0",""
"0","# Generate median-based linear model"
"0","model <- mblm(TAnomaly ~ Year, mblm.df)  # takes about 25 min to run"
